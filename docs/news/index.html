<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog â€¢ webmockr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Changelog" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">webmockr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/webmockr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/ropensci/webmockr/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="webmockr-0-4-0" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-4-0" class="anchor"></a>webmockr 0.4.0</h1>
<div id="minor-improvements" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>fix link to http testing book, change ropensci to ropenscilabs (<a href='https://github.com/ropensci/webmockr/issues/67'>#67</a>)</li>
<li>fixes to request matching: single match types working now (e.g., just match on query, or just on headers); in addition, header matching now works; added examples of single match types (<a href='https://github.com/ropensci/webmockr/issues/68'>#68</a>) (<a href='https://github.com/ropensci/webmockr/issues/69'>#69</a>)</li>
</ul>
</div>
<div id="bug-fixes" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>BUG FIXES</h3>
<ul>
<li>fix to curl adapter (<a href='https://github.com/ropensci/webmockr/issues/66'>#66</a>) (<a href='https://github.com/ropensci/webmockr/issues/40'>#40</a> - <a href="https://github.com/ropensci/webmockr/issues/40#issuecomment-478339360" class="uri">https://github.com/ropensci/webmockr/issues/40#issuecomment-478339360</a>) thanks <a href='https://github.com/nbenn'>@nbenn</a></li>
<li>fix stub specification within crul and httr adapters; typo in setting headers (<a href='https://github.com/ropensci/webmockr/issues/70'>#70</a>)</li>
</ul>
</div>
</div>
    <div id="webmockr-0-3-4" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-3-4" class="anchor"></a>webmockr 0.3.4</h1>
<div id="defunct" class="section level3">
<h3 class="hasAnchor">
<a href="#defunct" class="anchor"></a>DEFUNCT</h3>
<ul>
<li>underscore methods <code><a href="../reference/to_return_-defunct.html">to_return_()</a></code> and <code><a href="../reference/wi_th_-defunct.html">wi_th_()</a></code> are defunct (<a href='https://github.com/ropensci/webmockr/issues/60'>#60</a>) (<a href='https://github.com/ropensci/webmockr/issues/64'>#64</a>)</li>
</ul>
</div>
<div id="new-features" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>
<code><a href="../reference/to_return.html">to_return()</a></code> gains parameter <code>.list</code> (<a href='https://github.com/ropensci/webmockr/issues/60'>#60</a>) (<a href='https://github.com/ropensci/webmockr/issues/64'>#64</a>)</li>
</ul>
</div>
<div id="minor-improvements-1" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements-1" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>typo fixes (<a href='https://github.com/ropensci/webmockr/issues/62'>#62</a>) thanks <a href='https://github.com/Bisaloo'>@Bisaloo</a> !</li>
<li>improved the print method for stubs, found in <code>StubbedRequest</code>, to have better behavior for very long strings such as in headers and bodies (<a href='https://github.com/ropensci/webmockr/issues/63'>#63</a>)</li>
</ul>
</div>
<div id="bug-fixes-1" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>BUG FIXES</h3>
<ul>
<li>fix date in mocked <code>httr</code> response object to match the date format that <code>httr</code> uses in real HTTP requests (<a href='https://github.com/ropensci/webmockr/issues/58'>#58</a>) (<a href='https://github.com/ropensci/webmockr/issues/61'>#61</a>) via <a href="https://github.com/ropensci/vcr/issues/91" class="uri">https://github.com/ropensci/vcr/issues/91</a>
</li>
<li>fix response headers in mocked <code>httr</code> response objects. <code>httr</code> makes the list of headers insensitive to case, so we now use that function from the package (<a href='https://github.com/ropensci/webmockr/issues/59'>#59</a>) (<a href='https://github.com/ropensci/webmockr/issues/61'>#61</a>)</li>
<li>
<code><a href="../reference/to_return.html">to_return()</a></code> and <code><a href="../reference/wi_th.html">wi_th()</a></code> drop use of the <code>lazyeval</code> package and fall back to using the simple <code><a href="https://rdrr.io/r/base/list.html">list(...)</a></code> - fixes problem where creating stubs was failing within <code>test_that()</code> blocks due to some weird lazy eval conflicts (i think) (<a href='https://github.com/ropensci/webmockr/issues/60'>#60</a>) (<a href='https://github.com/ropensci/webmockr/issues/64'>#64</a>) thanks <a href='https://github.com/karawoo'>@karawoo</a> !</li>
</ul>
</div>
</div>
    <div id="webmockr-0-3-0" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-3-0" class="anchor"></a>webmockr 0.3.0</h1>
<div id="minor-improvements-2" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements-2" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>returned mocked response headers were retaining case that the user gave - whereas they should be all lowercased to match the output in <code>crul</code> and <code>httr</code>. now fixed. (<a href='https://github.com/ropensci/webmockr/issues/49'>#49</a>) thanks <a href='https://github.com/hlapp'>@hlapp</a></li>
<li>returned mocked response headers were not all of character class, but depended on what class was given by the user on creating the stub. this is now fixed, returning all character class values for response headers (<a href='https://github.com/ropensci/webmockr/issues/48'>#48</a>) thanks <a href='https://github.com/hlapp'>@hlapp</a></li>
<li>skip tests that require <code>vcr</code> if <code>vcr</code> is not available (<a href='https://github.com/ropensci/webmockr/issues/53'>#53</a>)</li>
<li>internal change to crul adapter to produce the same http response as a new version of crul returns - adds a <code>response_headers_all</code> slot (<a href='https://github.com/ropensci/webmockr/issues/51'>#51</a>) (<a href='https://github.com/ropensci/webmockr/issues/54'>#54</a>)</li>
</ul>
</div>
</div>
    <div id="webmockr-0-2-9" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-2-9" class="anchor"></a>webmockr 0.2.9</h1>
<div id="minor-improvements-3" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements-3" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>make <code><a href="../reference/request_registry.html">request_registry()</a></code> and <code><a href="../reference/stub_registry.html">stub_registry()</a></code> print methods more similar to avoid confusion for users (<a href='https://github.com/ropensci/webmockr/issues/35'>#35</a>)</li>
<li>update docs for <code>enable</code>/<code>disable</code> to indicate that <code>crul</code> and <code>httr</code> supported (<a href='https://github.com/ropensci/webmockr/issues/46'>#46</a>) (related to <a href='https://github.com/ropensci/webmockr/issues/45'>#45</a>)</li>
<li>wrap httr adapter examples in <code>requireNamespace</code> so only run when httr available</li>
<li>clean up <code>.onLoad</code> call, removing commented out code, and add note about creating adapter objects does not load crul and httr packages</li>
</ul>
</div>
<div id="bug-fixes-2" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>BUG FIXES</h3>
<ul>
<li>fix to <code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> methods. even though <code>httr</code> is in Suggests, we were loading all adapters (crul, httr) with <code>stop</code> when the package was not found. We now give a message and skip when a package not installed. In addition, we <code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> gain an <code>adapter</code> parameter to indicate which package you want to enable or disable. If <code>adapter</code> not given we attempt all adapters. Note that this bug shouldnâ€™t have affected <code>vcr</code> users as <code>httr</code> is in Imports in that package, so youâ€™d have to have <code>httr</code> installed (<a href='https://github.com/ropensci/webmockr/issues/45'>#45</a>) thanks to <a href='https://github.com/maelle'>@maelle</a> for uncovering the problem</li>
</ul>
</div>
</div>
    <div id="webmockr-0-2-8" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-2-8" class="anchor"></a>webmockr 0.2.8</h1>
<div id="new-features-1" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>Added support for integration with package <code>httr</code>; see <code>HttrAdapter</code> for the details; <code>webmockr</code> now integrates with two HTTP R packages: <code>crul</code> and <code>httr</code> (<a href='https://github.com/ropensci/webmockr/issues/43'>#43</a>) (<a href='https://github.com/ropensci/webmockr/issues/44'>#44</a>)</li>
<li>Along with <code>httr</code> integration is a new method <code><a href="../reference/httr_mock.html">httr_mock()</a></code> to turn on mocking for <code>httr</code>; and two methods <code>build_httr_response</code> and <code>build_httr_request</code> meant for internal use</li>
</ul>
</div>
</div>
    <div id="webmockr-0-2-6" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-2-6" class="anchor"></a>webmockr 0.2.6</h1>
<div id="new-features-2" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>Added support for integration with package <code>vcr</code> (now on CRAN) for doing HTTP request caching</li>
</ul>
</div>
</div>
    <div id="webmockr-0-2-4" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-2-4" class="anchor"></a>webmockr 0.2.4</h1>
<div id="new-features-3" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>New function <code><a href="../reference/enable.html">enabled()</a></code> to ask if <code>webmockr</code> is enabled, gives a boolean</li>
<li>
<code><a href="../reference/wi_th.html">wi_th()</a></code> gains new parameter <code>.list</code> as an escape hatch to avoid NSE. examples added in the <code>wi_th</code> man file to clarify its use</li>
</ul>
</div>
<div id="minor-improvements-4" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements-4" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>matching by request body was not supported, it now is; added examples of matching on request body, see <code><a href="../reference/stub_request.html">?stub_request</a></code> (<a href='https://github.com/ropensci/webmockr/issues/36'>#36</a>)</li>
<li>make sure that the adapter for <code>crul</code> handles all types of matches (<a href='https://github.com/ropensci/webmockr/issues/29'>#29</a>)</li>
<li>removed all internal usage of pipes in the package. still exporting pipe for users (<a href='https://github.com/ropensci/webmockr/issues/30'>#30</a>)</li>
<li>fixed internals to give vcr error when vcr loaded - for future release with vcr support (<a href='https://github.com/ropensci/webmockr/issues/34'>#34</a>)</li>
<li>require newest <code>crul</code> version</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>BUG FIXES</h3>
<ul>
<li>Error messages with the suggest stub were not giving bodies. They now give bodies if needed along with method, uri, headers, query (<a href='https://github.com/ropensci/webmockr/issues/37'>#37</a>)</li>
<li>Fixed <code>Response</code> class that was not dealing with capitalization correctly</li>
</ul>
</div>
</div>
    <div id="webmockr-0-2-0" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-2-0" class="anchor"></a>webmockr 0.2.0</h1>
<div id="new-features-4" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>New function <code><a href="../reference/to_raise.html">to_raise()</a></code> to say that a matched response should return a certain exception, currently <code>to_raise</code> accepts error classes from the <code>fauxpas</code> package (<a href='https://github.com/ropensci/webmockr/issues/9'>#9</a>)</li>
<li>New function <code><a href="../reference/to_timeout.html">to_timeout()</a></code> to say that a matched response should return a timeout. This is a special case of <code>to_raise</code> to easily do a timeout expectation (<a href='https://github.com/ropensci/webmockr/issues/11'>#11</a>)</li>
<li>New function <code><a href="../reference/request_registry.html">request_registry()</a></code> to list requests in the request registry (<a href='https://github.com/ropensci/webmockr/issues/23'>#23</a>)</li>
<li>package <code>crul</code> moved to Imports from Suggests as itâ€™s the only http client supported for now. will move back to Suggests once we support at least one other http client</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_configure()</a></code> changes: <code>turn_on</code> has been removed; <code>allow_net_connect</code> and <code>allow_localhost</code> were ignored before, but are now used and are now set to <code>FALSE</code> by default; fixed usage of <code>allow</code> which now accepts character vector of URLs instead of a boolean; the following correctly marked as being ignored for now until fixed <code>net_http_connect_on_start</code>, <code>show_stubbing_instructions</code>, <code>query_values_notation</code>, <code>show_body_diff</code> (<a href='https://github.com/ropensci/webmockr/issues/19'>#19</a>) (<a href='https://github.com/ropensci/webmockr/issues/21'>#21</a>)</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_disable_net_connect()</a></code> now accepts an <code>allow</code> parameter to disable all other connections except those URLs given in <code>allow</code>
</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_net_connect_allowed()</a></code> now accepts a <code>uri</code> parameter to test if a URI/URL is allowed</li>
</ul>
</div>
<div id="minor-improvements-5" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-improvements-5" class="anchor"></a>MINOR IMPROVEMENTS</h3>
<ul>
<li>Fixed printed stub statement when printed to the console - we werenâ€™t including headers accurately (<a href='https://github.com/ropensci/webmockr/issues/18'>#18</a>)</li>
<li>Added examples to the <code><a href="../reference/stub_registry.html">stub_registry()</a></code> and <code>stub_registry_clea()</code> manual files (<a href='https://github.com/ropensci/webmockr/issues/24'>#24</a>)</li>
<li>internal methods <code>build_crul_request</code> and <code>build_crul_response</code> moved outside of the <code>CrulAdapter</code> class so that they can be accesed like <code>webmockr::</code> in other packages</li>
<li>
<code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> now return booleans invisibly</li>
<li>General improvements to documentation throughout</li>
<li>Added linting of user inputs to the <code><a href="../reference/to_return.html">to_return()</a></code> method, and docs details on what to input to the method</li>
<li>Added linting of user inputs to the <code><a href="../reference/wi_th.html">wi_th()</a></code> method, and docs details on what to input to the method</li>
</ul>
</div>
<div id="bug-fixes-4" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-4" class="anchor"></a>BUG FIXES</h3>
<ul>
<li>Fixed option <code>allow_localhost</code>, which wasnâ€™t actually workin before (<a href='https://github.com/ropensci/webmockr/issues/25'>#25</a>)</li>
</ul>
</div>
<div id="deprecated-and-defunct" class="section level3">
<h3 class="hasAnchor">
<a href="#deprecated-and-defunct" class="anchor"></a>DEPRECATED AND DEFUNCT</h3>
<ul>
<li>
<code><a href="../reference/webmockr_enable-defunct.html">webmockr_enable()</a></code> and <code>webmockr_disable</code> are now defunct. Use <code><a href="../reference/enable.html">webmockr::enable()</a></code> and <code><a href="../reference/enable.html">webmockr::disable()</a></code> instead</li>
</ul>
</div>
</div>
    <div id="webmockr-0-1-0" class="section level1">
<h1 class="page-header">
<a href="#webmockr-0-1-0" class="anchor"></a>webmockr 0.1.0</h1>
<div id="new-features-5" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>NEW FEATURES</h3>
<ul>
<li>Released to CRAN.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#webmockr-0-4-0">0.4.0</a></li>
        <li><a href="#webmockr-0-3-4">0.3.4</a></li>
        <li><a href="#webmockr-0-3-0">0.3.0</a></li>
        <li><a href="#webmockr-0-2-9">0.2.9</a></li>
        <li><a href="#webmockr-0-2-8">0.2.8</a></li>
        <li><a href="#webmockr-0-2-6">0.2.6</a></li>
        <li><a href="#webmockr-0-2-4">0.2.4</a></li>
        <li><a href="#webmockr-0-2-0">0.2.0</a></li>
        <li><a href="#webmockr-0-1-0">0.1.0</a></li>
      </ul>
    </div>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain, rOpenSci.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


